"use strict";

var _aggregator = _interopRequireDefault(require("../aggregator"));

var _mockResultFactory = _interopRequireDefault(require("./mock-result-factory"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

test('aggregates errors and warnings by rule', function () {
  var results = [(0, _mockResultFactory.default)([['rule1', 1], ['rule2', 1]]), (0, _mockResultFactory.default)([['rule2', 1], ['rule3', 2]]), (0, _mockResultFactory.default)([['rule3', 2], ['rule4', 2], ['rule5', 2]])];
  expect((0, _aggregator.default)(results)).toEqual([{
    ruleId: 'rule1',
    errors: 0,
    warnings: 1
  }, {
    ruleId: 'rule2',
    errors: 0,
    warnings: 2
  }, {
    ruleId: 'rule3',
    errors: 2,
    warnings: 0
  }, {
    ruleId: 'rule4',
    errors: 1,
    warnings: 0
  }, {
    ruleId: 'rule5',
    errors: 1,
    warnings: 0
  }]);
});